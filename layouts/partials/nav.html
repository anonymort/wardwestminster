<nav class="site-nav" role="navigation" aria-label="Main navigation">
    <div class="nav-container">
        {{/* Logo */}}
        <a href="{{ .Site.BaseURL }}" class="nav-logo" aria-label="{{ .Site.Title }} - Home">
            <span class="nav-logo-mark">&amp;</span>
            <span class="nav-logo-text">{{ .Site.Title }}</span>
        </a>

        {{/* Desktop Navigation Links */}}
        <ul class="nav-links">
            {{ range .Site.Menus.main }}
            <li>
                <a href="{{ .URL }}" {{ if $.IsMenuCurrent "main" . }} class="active" aria-current="page" {{ end }}{{ if
                    .Params.external }} target="_blank" rel="noopener" {{ end }}>
                    {{ .Name }}
                </a>
            </li>
            {{ end }}
        </ul>

        {{/* Action Buttons Container */}}
        <div class="nav-actions" style="display: flex; align-items: center; gap: 1rem;">
            {{/* Theme Toggle */}}
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode"
                style="background: none; border: none; cursor: pointer; color: var(--color-text); padding: 0.25rem;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>

            {{/* Mobile Menu Toggle */}}
            <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="mobile-menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </div>
</nav>

{{/* Mobile Menu */}}
<div class="mobile-menu" id="mobile-menu" aria-hidden="true">
    <ul class="mobile-menu-links">
        {{ range .Site.Menus.main }}
        <li>
            <a href="{{ .URL }}" {{ if $.IsMenuCurrent "main" . }} class="active" aria-current="page" {{ end }}{{ if
                .Params.external }} target="_blank" rel="noopener" {{ end }}>
                {{ .Name }}
            </a>
        </li>
        {{ end }}
    </ul>
</div>