(function(){"use strict";const l=document.getElementById("progressBar");function a(){if(!l)return;const t=window.scrollY,e=document.documentElement.scrollHeight-window.innerHeight,n=e>0?t/e*100:0;l.style.width=`${Math.min(n,100)}%`}const t=document.querySelector(".site-nav"),n=document.querySelector(".nav-toggle"),e=document.querySelector(".mobile-menu");let r=window.scrollY,o=!1;function c(){const n=window.scrollY;n>10?t.classList.add("nav-scrolled"):t.classList.remove("nav-scrolled"),e?.classList.contains("active")||(n>r&&n>200?t.classList.add("nav-hidden"):t.classList.remove("nav-hidden")),r=n,o=!1}function u(){o||(requestAnimationFrame(()=>{c(),a()}),o=!0)}function i(){const t=e.classList.contains("active");n.classList.toggle("active"),e.classList.toggle("active"),document.body.classList.toggle("no-scroll"),n.setAttribute("aria-expanded",!t)}n&&e&&(n.addEventListener("click",i),e.querySelectorAll("a").forEach(t=>{t.addEventListener("click",()=>{e.classList.contains("active")&&i()})}),document.addEventListener("keydown",t=>{t.key==="Escape"&&e.classList.contains("active")&&i()}));const p={root:null,rootMargin:"0px 0px -10% 0px",threshold:.1},s=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),s.unobserve(e.target))})},p);function h(){const e=document.querySelector(".article-content");e&&e.querySelectorAll("p, h2, h3, blockquote, figure, ul, ol, .section-break").forEach(e=>{s.observe(e)}),document.querySelectorAll(".article-card").forEach((e,t)=>{e.style.animationDelay=`${t*.1}s`,s.observe(e)})}function m(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if(t==="#")return;const n=document.querySelector(t);n&&(e.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"start"}))})})}function f(){const e=document.querySelector(".article-content"),t=document.querySelector(".reading-time-value");if(e&&t){const n=e.textContent||e.innerText,s=n.trim().split(/\s+/).length,o=Math.ceil(s/200);t.textContent=`${o} minute read`}}function d(){window.addEventListener("scroll",u,{passive:!0}),window.addEventListener("load",()=>{a(),c()}),h(),m(),f()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):d()})()